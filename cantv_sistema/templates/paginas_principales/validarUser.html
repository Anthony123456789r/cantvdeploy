{% load static %}
<!doctype html>
<html lang="en">

<head>
    <title>Autenticacion</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static '../static/css/estilos1cantv.css' %}">

</head>

<body>
    <header>
        <nav>
            <label for="" class="brand">
                <a href=""><img src="{% static '../static/css/img/Cantv_logo.png' %}"></a>
            </label>
            <a href="{% url 'loginSeleccion' %}">Login seleccion</a>
        </nav>
        <br>
    </header>
    <main>
        <section class="vh-100">
            <div class="container py-5 h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col col-xl-10">
                        <div class="card" style="border-radius: 1rem;">
                            <div class="row g-0">
                                <div class="col-md-6 col-lg-5 d-none d-md-block">

                                </div>
                                <div class="col-md-6 col-lg-7 d-flex align-items-center">
                                    <div class="card-body p-4 p-lg-5 text-black">
                                        <div class="formulario">
                                            <h1>{{ mensaje }}</h1>
                                            <form id="authForm" action="{% url 'autenticationUser' %}" method="POST" enctype="multipart/form-data">
                                                {% csrf_token %}
                                                <div class="d-flex align-items-center mb-3 pb-1">
                                                    <h1>Autenticacion</h1>
                                                </div>
                                                <div class="password">
                                                    <div class="mb-3">
                                                        <select class="form-select form-select-lg" name="opcion"
                                                            id="opcion">
                                                            <option selected>Opciones</option>
                                                            <option value="telefono">Verificar telefono</option>
                                                            <option value="correo">Verificar correo</option>
                                                            <option value="google">Google authenticate</option>
                                                            <option value="facial">Autenticacion Facial</option>
                                                        </select>
                                                    </div>
                                                    <div id="opciones-collapse">
                                                        <div id="telefono-collapse" class="collapse">
                                                            <input type="text" class="form-control"
                                                                placeholder="Número de teléfono" name="valTelefono">
                                                            <input type="text" class="form-control"
                                                                placeholder="Código de verificación"
                                                                name="valTelefonoCodigo" style="display: none;">
                                                        </div>
                                                        <div id="correo-collapse" class="collapse">
                                                            <input type="email" class="form-control"
                                                                placeholder="Correo electrónico" name="valCorreo">
                                                            <input type="text" class="form-control"
                                                                placeholder="Código de verificación"
                                                                name="valCorreoCodigo" style="display: none;">
                                                        </div>
                                                        <div id="google-collapse" class="collapse">
                                                            <!-- Contenido para Google authenticate -->
                                                            <input type="number" name="valGoogle" id=""
                                                                placeholder="Código de autenticacion">
                                                        </div>
                                                        <div id="facial-collapse" class="collapse" name="valFacial">
                                                            <!-- Contenido para Autenticación Facial -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                                <div>
                                                    <button type="submit"
                                                        class="btn btn-outline-dark">Verificar</button>
                                                </div>
                                                <br>
                                                <div>
                                                    <a href="#!" class="uso">Terminos de uso.</a>
                                                </div>
                                                <br>
                                                <a href="#!" class="politica">Politica y privacidad</a>
                                                <br>
                                                <br>
                                                {{mensaje}}
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="contenedor-footer">
            <div class="content-foo">
                <h4>Teléfono</h4>
                <p>+ 58 425 874 21</p>
            </div>
            <div class="content-foo">
                <h4>Instagram</h4>
                <p>@cantv.ve</p>
            </div>
            <div class="content-foo">
                <h4>Twitter</h4>
                <p>@AbaCantv</p>
            </div>

        </div>
        <h6 class="titulo-final">CANTV Táchira</h6>
        <p>CANTV (Compañía Anónima Nacional Teléfonos de Venezuela) es una empresa de
            telecomunicaciones estatal de Venezuela.
            Fundada en 1930, CANTV es la compañía telefónica más grande y antigua de Venezuela y
            provee servicios de telefonía fija,
            móvil, Internet y televisión por suscripción a hogares, empresas y organismos
            gubernamentales en todo el país.</p>
        <h6 class="titulo-final">© 2023 Copyright Venezuela,Táchira-San Cristobal Cantv.com
        </h6>
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>

    <script>
        const opcionesCollapse = document.getElementById('opciones-collapse');
        const selectOpcion = document.getElementById('opcion');

        selectOpcion.addEventListener('change', function () {
            const opcionSeleccionada = selectOpcion.value;
            const collapseToShow = document.getElementById(opcionSeleccionada + '-collapse');

            if (collapseToShow) {
                opcionesCollapse.querySelectorAll('.collapse').forEach(function (collapse) {
                    if (collapse.id === opcionSeleccionada + '-collapse') {
                        collapse.classList.add('show');
                    } else {
                        collapse.classList.remove('show');
                    }
                });
            }
        });

        // Obtener los elementos del menú desplegable y los campos de código de verificación
        var opcionSelect = document.getElementById("opcion");
        var telefonoInput = document.querySelector("input[name='valTelefono']");
        var telefonoCodigoInput = document.querySelector("input[name='valTelefonoCodigo']");
        var correoInput = document.querySelector("input[name='valCorreo']");
        var correoCodigoInput = document.querySelector("input[name='valCorreoCodigo']");

        // Agregar un evento de cambio al menú desplegable
        opcionSelect.addEventListener("change", function () {
            // Obtener el valor seleccionado
            var opcionSeleccionada = opcionSelect.value;

            // Mostrar u ocultar los campos de código de verificación según la opción seleccionada
            if (opcionSeleccionada === "telefono") {
                telefonoInput.style.display = "block";
                telefonoCodigoInput.style.display = "block";
                correoInput.style.display = "none";
                correoCodigoInput.style.display = "none";
            } else if (opcionSeleccionada === "correo") {
                telefonoInput.style.display = "none";
                telefonoCodigoInput.style.display = "none";
                correoInput.style.display = "block";
                correoCodigoInput.style.display = "block";
            } else {
                telefonoInput.style.display = "none";
                telefonoCodigoInput.style.display = "none";
                correoInput.style.display = "none";
                correoCodigoInput.style.display = "none";
            }
        });

        // Refrescar la página después de enviar el formulario
        document.getElementById('authForm').addEventListener('submit', function () {
            location.reload();
        });
    </script>

</body>

</html>